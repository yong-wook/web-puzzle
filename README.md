# 바닐라 JS 퍼즐 게임

이 프로젝트는 바닐라 JavaScript, HTML, CSS로 구현된 웹 기반 퍼즐 게임입니다. 테트리스와 유사한 게임 플레이에 스테이지 클리어 및 'Showtime'이라는 독특한 전환 효과를 더했습니다.

## 목차

- [프로젝트 구조](#프로젝트-구조)
- [개발 로직](#개발-로직)
  - [게임 흐름](#게임-흐름)
  - [주요 파일 설명](#주요-파일-설명)
- [게임 플레이 방법](#게임-플레이-방법)

## 프로젝트 구조

```
.
├── images/
│   └── backgrounds/
│       ├── stage-1/
│       ├── stage-2/
│       └── stage-3/
├── src/
│   ├── common/
│   │   └── constants.js
│   ├── gameplay/
│   │   └── gameplay.js
│   ├── showtime/
│   │   └── showtime.js
│   └── stage/
│       └── stage.js
│   └── main.js
├── index.html
├── style.css
└── README.md
```

## 개발 로직

### 게임 흐름

1.  **스테이지 선택**: 사용자가 `index.html`을 열면 스테이지 선택 메뉴가 나타납니다. 원하는 스테이지 버튼을 클릭하면 해당 스테이지부터 게임이 시작됩니다. (`main.js`의 `createStageSelectButtons()` 함수가 동적으로 버튼을 생성하고, `initGame()` 함수를 호출하여 게임을 시작합니다.)
2.  **스테이지 로드**: `stage.js`에 미리 정의된 레벨(스테이지) 데이터를 불러옵니다. 각 스테이지는 목표 클리어 라인 수, 시간 제한, 초기 블록 배치가 다릅니다.
3.  **게임 플레이**:
    -   `gameplay.js` 파일이 핵심 게임 로직을 담당합니다.
    -   테트리스 블록(Piece)을 생성하고, 사용자의 키보드 입력에 따라 블록을 이동, 회전, 낙하 시킵니다.
    -   블록이 바닥이나 다른 블록에 닿으면 충돌을 감지하여 위치를 고정합니다.
    -   가로 한 줄이 블록으로 모두 채워지면 해당 라인이 사라지면서 점수를 획득합니다.
4.  **Showtime (쇼타임)**:
    -   현재 스테이지의 목표 라인 수를 모두 클리어하면 'Showtime'이 시작됩니다.
    -   게임 플레이가 잠시 멈추고, `showtime.js`에 의해 배경 이미지를 감상하는 전환 화면이 나타납니다.
    -   사용자는 스페이스바와 화살표 키를 이용해 배경 이미지를 확대/축소하거나 이동하며 볼 수 있습니다.
    -   'Enter' 키를 누르면 다음 스테이지로 진행합니다.
5.  **게임 오버**:
    -   블록이 화면 맨 위까지 쌓이거나, 스테이지의 시간 제한이 초과되면 게임이 종료됩니다.
    -   게임 오버 화면에 최종 점수가 표시됩니다.

### 주요 파일 설명

-   `index.html`: 게임의 기본 구조를 정의하는 메인 HTML 파일입니다. 게임 캔버스, 버튼, 정보 표시 영역 등이 포함되어 있습니다.
-   `style.css`: 게임의 전체적인 스타일과 레이아웃, 'Showtime' 효과 등을 정의합니다.
-   `src/main.js`: 게임의 시작과 종료, 스테이지 관리, 스테이지 선택 메뉴 생성 등 전체적인 게임 흐름을 제어하는 메인 스크립트입니다.
-   `src/common/constants.js`: 게임 보드의 크기, 블록 크기 등 주요 상수 값을 정의합니다.
-   `src/gameplay/gameplay.js`: 블록 생성 및 조작, 충돌 감지, 라인 클리어, 점수 계산 등 핵심 게임 플레이 로직을 구현합니다.
-   `src/stage/stage.js`: 각 스테이지의 목표, 시간 제한, 초기 블록 배치 등 레벨 디자인 데이터를 담고 있습니다.
-   `src/showtime/showtime.js`: 스테이지 클리어 후 나타나는 'Showtime' 화면의 시각적 효과와 사용자 상호작용을 처리합니다.

## 게임 플레이 방법

-   **← (왼쪽 화살표)**: 블록을 왼쪽으로 이동
-   **→ (오른쪽 화살표)**: 블록을 오른쪽으로 이동
-   **↑ (위쪽 화살표)**: 블록을 회전
-   **↓ (아래쪽 화살표)**: 블록을 아래로 빠르게 이동 (소프트 드롭)
-   **Spacebar (스페이스바)**: 블록을 즉시 아래로 떨어뜨리기 (하드 드롭)
-   **P 키**: 게임 일시정지 / 재개
-   **C 키**: 현재 블록을 보관 (홀드)

**Showtime 중:**

-   **Spacebar (스페이스바)**: 배경 이미지 확대 / 축소
-   **화살표 키**: (확대된 상태에서) 배경 이미지 이동
-   **Enter (엔터)**: 다음 스테이지로 진행
